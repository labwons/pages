const isLabTop=window.matchMedia('(max-width: 1443px)');const isTablet=window.matchMedia('(max-width: 1023px)');const isMobile=window.matchMedia('(max-width: 767px)');const isNarrow=window.matchMedia('(max-width: 374px)');const fontFamily='NanumGothic, Nanum Gothic, Open Sans, sans-serif';var TOOLBOX=false;var VIEW_MODE=false;var SAMSUNG=true;var BARMODE=false;var yieldLayout={barmode:'group',showlegend:false,dragmode:false,margin:{l:20,r:0,t:0,b:20},xaxis:{showline:true,zerolinecolor:"lightgrey",gridcolor:"lightgrey",},yaxis:{ticklabelposition:'inside',tickformat:'d',showline:true,zerolinecolor:"lightgrey",gridcolor:"lightgrey",},autosize:true};var Option={showTips:false,responsive:true,displayModeBar:false,displaylogo:false,modeBarButtonsToRemove:['toImage','select2d','lasso2d','resetScale2d']};const srcTickers={"251970":{"startDate":"2025-03-28","today":"2025-04-03","timeDiff":"6 days","buyPrice":49200,"currentPrice":54200,"yield":10.16,"yieldColor":"#EE3D3D","pct52wHigh":0.0,"pct52wLow":138.77,"trailingProfitRate":14.34,"trailingPE":20.55,"estimatedPE":17.04,"name":"\ud38c\ud14d\ucf54\ub9ac\uc544*","marketCap":"6720\uc5b5","sectorName":"\uc18c\uc7ac","industryName":"\ube44\ucca0\uae08\uc18d"},"053580":{"startDate":"2025-04-02","today":"2025-04-03","timeDiff":"1 days","buyPrice":11000,"currentPrice":14080,"yield":28.0,"yieldColor":"#C92A2A","pct52wHigh":0.0,"pct52wLow":123.49,"trailingProfitRate":18.69,"trailingPE":23.04,"estimatedPE":null,"name":"\uc6f9\ucf00\uc2dc*","marketCap":"1914\uc5b5","sectorName":"IT","industryName":"IT\uc11c\ube44\uc2a4"},"102710":{"startDate":"2025-04-02","today":"2025-04-03","timeDiff":"1 days","buyPrice":26000,"currentPrice":26000,"yield":0.0,"yieldColor":"#A6A6A6","pct52wHigh":-21.45,"pct52wLow":79.68,"trailingProfitRate":10.19,"trailingPE":11.94,"estimatedPE":null,"name":"\uc774\uc5d4\uc5d0\ud504\ud14c\ud06c\ub180\ub85c\uc9c0*","marketCap":"3707\uc5b5","sectorName":"IT","industryName":"\ubc18\ub3c4\uccb4"},"005180":{"startDate":"2025-04-03","today":"2025-04-03","timeDiff":"0 days","buyPrice":97000,"currentPrice":98700,"yield":1.75,"yieldColor":"#C59B9B","pct52wHigh":-11.95,"pct52wLow":72.55,"trailingProfitRate":8.97,"trailingPE":9.42,"estimatedPE":8.7,"name":"\ube59\uadf8\ub808","marketCap":"9723\uc5b5","sectorName":"\ud544\uc218\uc18c\ube44\uc7ac","industryName":"\ud544\uc218\uc18c\ube44\uc7ac"}};function setYield(){var data={type:'bar',x:[],y:[],meta:[],texttemplate:'%{y}%',textposition:'outside',hovertemplate:'%{x}<br>%{y}%<extra></extra>',hoverlabel:{font:{family:fontFamily,color:'#fffff'}},marker:{color:[]}};Object.entries(srcTickers).forEach(([ticker,obj])=>{data.x.push(obj.name);data.y.push(obj['yield']);data.marker.color.push(obj.yieldColor);});Plotly.newPlot('plotly-yield',[data],yieldLayout,Option);}
function setPrice(){var data1={type:'bar',x:[],y:[],meta:[],hovertemplate:'%{y}Ïõê<br><extra></extra>',hoverlabel:{font:{family:fontFamily,color:'#fffff'}},marker:{color:[]}};var data2=JSON.parse(JSON.stringify(data1));Object.entries(srcTickers).forEach(([ticker,obj])=>{data1.x.push(obj.name);data1.y.push(obj.buyPrice);data1.marker.color.push('grey');});Object.entries(srcTickers).forEach(([ticker,obj])=>{data2.x.push(obj.name);data2.y.push(obj.currentPrice);data2.marker.color.push('red');});Plotly.newPlot('plotly-price',[data1,data2],yieldLayout,Option);}
function setOption(cssSelector,jsonObj,initKey){$(cssSelector).empty();Object.entries(jsonObj).forEach(([key,obj])=>{var label=(typeof obj==="object"&&obj!==null)?obj.label:obj;if(key==initKey){$(cssSelector).append(`<option value="${key}"selected>${label}</option>`)}else{$(cssSelector).append(`<option value="${key}">${label}</option>`)}});}
function setAxisLabel(cssSelector,axis){var selected=$(cssSelector).find('option:selected');selected.text(axis+': '+selected.text());}
$(document).ready(function(){setYield();setPrice();})